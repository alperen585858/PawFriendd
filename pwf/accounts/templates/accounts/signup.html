{% extends 'core/base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <div class="logo">
                <i class="fas fa-paw"></i>
            </div>
            <h2>Create Account</h2>
            <p>Join PawFriend and find your perfect companion</p>
        </div>

        <form class="auth-form" method="POST">
            {% csrf_token %}
            
            {% if messages %}
            <div class="auth-error">
                {% for message in messages %}
                    {{ message }}
                {% endfor %}
            </div>
            {% endif %}

            <div class="form-group">
                <label for="username">Username</label>
                {% render_field form.username class="form-control" %}
                {% for error in form.username.errors %}
                    <div class="invalid-feedback d-block">{{ error }}</div>
                {% endfor %}
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                {% render_field form.email class="form-control" %}
                {% for error in form.email.errors %}
                    <div class="invalid-feedback d-block">{{ error }}</div>
                {% endfor %}
            </div>

            <div class="form-group">
                <label for="password1">Password</label>
                {% render_field form.password1 class="form-control" %}
                {% for error in form.password1.errors %}
                    <div class="invalid-feedback d-block">{{ error }}</div>
                {% endfor %}
            </div>

            <div class="form-group">
                <label for="password2">Confirm Password</label>
                {% render_field form.password2 class="form-control" %}
                {% for error in form.password2.errors %}
                    <div class="invalid-feedback d-block">{{ error }}</div>
                {% endfor %}
            </div>

            <div class="form-group mb-4" style="margin-top: 10px;">
                <div style="font-size: 0.97rem; font-weight: 400; margin-bottom: 6px;">
                    I agree to the <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">Terms of Service</a> and <a href="#" data-bs-toggle="modal" data-bs-target="#privacyModal">Privacy Policy</a>
                </div>
                <div class="form-check">
                    {% render_field form.terms class="form-check-input" style="margin:0;" %}
                </div>
                {% for error in form.terms.errors %}
                    <div class="invalid-feedback d-block" style="margin-left:36px;">{{ error }}</div>
                {% endfor %}
            </div>

            <!-- Terms of Service Modal -->
            <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="termsModalLabel">Terms of Service</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body" style="text-align:left;">
                    <p>By using PawFriend, you agree to abide by our rules and policies. You must provide accurate information, respect other users, and not misuse the platform. PawFriend reserves the right to update these terms at any time.</p>
                  </div>
                </div>
              </div>
            </div>
            <!-- Privacy Policy Modal -->
            <div class="modal fade" id="privacyModal" tabindex="-1" aria-labelledby="privacyModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="privacyModalLabel">Privacy Policy</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body" style="text-align:left;">
                    <p>Your privacy is important to us. We collect and use your data only to provide and improve our services. We do not share your personal information with third parties except as required by law.</p>
                  </div>
                </div>
              </div>
            </div>

            <button type="submit" class="btn-submit">
                <i class="fas fa-user-plus me-2"></i>Create Account
            </button>
        </form>

        <div class="auth-footer">
            <p>Already have an account? <a href="{% url 'accounts:login' %}">Sign in</a></p>
        </div>
    </div>
</div>

<style>
</style>
{% endblock %} 